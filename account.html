<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobi-Comm Home</title>
    <link rel="stylesheet" href="assets/css/account.css">
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
    crossorigin="anonymous" referrerpolicy="no-referrer"/>

</head>
<body>

<!-- HEADER STARTS -->

<header class="sticky-top shadow-sm" style="background: #ffffff;">
    <div class="container py-3">
        <div class="d-flex justify-content-between align-items-center">

            <!-- Left Section (Desktop) -->
            <nav class="d-none d-md-flex gap-4">
                <a href="index.html" class="text-dark text-decoration-none nav-link" aria-current="page">Home</a>
                <a href="recharge.html" class="text-dark text-decoration-none nav-link">Recharge</a>
                <a href="prepaidplans.html" class="text-dark text-decoration-none nav-link">Prepaid Plans</a>
            </nav>

            <!-- Mobile View: Hamburger Menu -->
            <button class="btn d-md-none" data-bs-toggle="offcanvas" data-bs-target="#mobileMenu">
                <i class="fa-solid fa-bars fs-4 text-dark"></i>
            </button>

            <!-- Logo (Centered) -->
            <div class="text-center">
                <img src="assets/img/Logo.png" alt="Company Logo" class="img-fluid" style="max-height: 45px;">
            </div>

            <!-- Right Section (Desktop) -->
            <nav class="d-none d-md-flex gap-4">
                <a href="about.html" class="text-dark text-decoration-none nav-link">About Us</a>
                <a href="contact.html" class="text-dark text-decoration-none nav-link">Contact Us</a>
                <a href="account.html" class="text-dark text-decoration-none nav-link  active fw-bold">Account</a>
            </nav>

            <!-- Mobile View: Account (Right) -->
            <a href="account.html" class="d-md-none text-dark text-decoration-none">
                <i class="fa-solid fa-user fs-4"></i>
            </a>
        </div>
    </div>

    <!-- MOBILE NAVBAR STARTS -->
    <div class="offcanvas offcanvas-start" tabindex="-1" id="mobileMenu">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title">Menu</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
        </div>
        <div class="offcanvas-body d-flex flex-column gap-3">
            <a href="index.html" class="text-dark text-decoration-none nav-link" aria-current="page">Home</a>
            <a href="recharge.html" class="text-dark text-decoration-none nav-link">Recharge</a>
            <a href="prepaidplans.html" class="text-dark text-decoration-none nav-link">Prepaid Plans</a>
            <a href="about.html" class="text-dark text-decoration-none nav-link">About Us</a>
            <a href="contact.html" class="text-dark text-decoration-none nav-link">Contact Us</a>
        </div>
    </div>
    <!-- MOBILE NAVBAR ENDS -->
</header>


<!-- HEADER ENDS -->

<!-- MAIN SECTION STARTS -->

    <main>

        <!-- SECTION 1 STARTS -->
        <section class="container-fluid section1 px-4 pb-4">
            <div class="container mt-4">
                <div class="row justify-content-center align-items-center">
                    <!-- Left Side: Image -->
                    <div class="col-md-6 d-none d-md-block text-center">
                        <img src="assets/img/Login.jpg" alt="Login Illustration" class="img-fluid" style="max-width: 80%;">
                    </div>
        
                    <!-- Right Side: Login Form -->
                    <div class="col-12 col-md-6">
                        <div class="card p-4 shadow-lg">
                            <h3 class="text-center">Login</h3>
                            <form id="loginForm">
                                <!-- Email -->
                                <div class="mb-3">
                                    <label class="form-label">Email Address</label>
                                    <input type="email" id="email" class="form-control" placeholder="Enter your email">
                                    <div class="text-danger d-none" id="emailError">Invalid email or not subscribed</div>
                                </div>
        
                                <!-- Password -->
                                <div class="mb-3">
                                    <label class="form-label">Password</label>
                                    <input type="password" id="password" class="form-control" placeholder="Enter your password">
                                    <div class="text-danger d-none" id="passwordError">Invalid password</div>
                                </div>
        
                                <!-- Login Button -->
                                <button type="submit" class="btn btn-primary w-100" id="loginBtn">Login</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- SECTION 1 ENDS -->

    </main>

<!-- MAIN SECTION ENDS -->



<!-- FOOTER START -->
<footer class="footer border-top shadow-lg py-5" style="background-color: #f8f9fa; color: #1e1e1e;">
    <div class="container">
        <div class="row text-center text-md-start align-items-start g-4">
            <!-- Company Info -->
            <div class="col-md-4">
                <a class="navbar-brand d-block mb-3 mx-auto mx-md-0" href="#">
                    <img src="assets/img/Logo.png" alt="Mobi-Comm Logo" style="height: 80px; width: 80px;">
                </a>
                <p class="mb-0" style="font-size: 1.1rem; line-height: 1.6; color: #1e1e1e;">
                    Mobi-Comm delivers affordable, reliable mobile services, keeping you connected with cutting-edge solutions.
                </p>
                <hr class="mobile-divider d-md-none" style="border-top: 1px solid rgba(0, 0, 0, 0.1); margin: 1.5rem 0;">
            </div>

            <!-- Quick Links -->
            <div class="col-md-3 ps-md-3 d-flex justify-content-center justify-content-md-start align-items-center align-items-md-start">
                <div>
                    <h5 class="fw-bold mb-3" style="color: #1e1e1e;">Quick Links</h5>
                    <ul class="nav flex-column gap-2">
                        <li class="nav-item">
                            <a href="index.html" class="nav-link p-0 d-flex align-items-center" style="color: #1e1e1e; transition: color 0.3s ease;" onmouseover="this.style.color='#ffc600';" onmouseout="this.style.color='#1e1e1e';">
                                <i class="fa-solid fa-house me-2" style="color: #1e1e1e;"></i> Home
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="recharge.html" class="nav-link p-0 d-flex align-items-center" style="color: #1e1e1e; transition: color 0.3s ease;" onmouseover="this.style.color='#ffc600';" onmouseout="this.style.color='#1e1e1e';">
                                <i class="fa-solid fa-bolt me-2" style="color: #1e1e1e;"></i> Recharge
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="viewplans.html" class="nav-link p-0 d-flex align-items-center" style="color: #1e1e1e; transition: color 0.3s ease;" onmouseover="this.style.color='#ffc600';" onmouseout="this.style.color='#1e1e1e';">
                                <i class="fa-solid fa-list me-2" style="color: #1e1e1e;"></i> View Plans
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="about.html" class="nav-link p-0 d-flex align-items-center" style="color: #1e1e1e; transition: color 0.3s ease;" onmouseover="this.style.color='#ffc600';" onmouseout="this.style.color='#1e1e1e';">
                                <i class="fa-solid fa-info-circle me-2" style="color: #1e1e1e;"></i> About Us
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="contact.html" class="nav-link p-0 d-flex align-items-center" style="color: #1e1e1e; transition: color 0.3s ease;" onmouseover="this.style.color='#ffc600';" onmouseout="this.style.color='#1e1e1e';">
                                <i class="fa-solid fa-envelope me-2" style="color: #1e1e1e;"></i> Contact Us
                            </a>
                        </li>
                    </ul>
                    <hr class="mobile-divider d-md-none" style="border-top: 1px solid rgba(0, 0, 0, 0.1); margin: 1.5rem 0;">
                </div>
            </div>

            <!-- Contact Info -->
            <div class="col-md-3 ps-md-3">
                <h5 class="fw-bold mb-3" style="color: #1e1e1e;">Get in Touch</h5>
                <ul class="list-unstyled" style="color: #1e1e1e; font-size: 1rem;">
                    <li class="mb-2">
                        <i class="fa-solid fa-phone me-2" style="color: #1e1e1e;"></i>
                        <a href="tel:+18005551234" style="color: #1e1e1e; text-decoration: none; transition: color 0.3s ease;" onmouseover="this.style.color='#ffc600';" onmouseout="this.style.color='#1e1e1e';">+91 88552 47719</a>
                    </li>
                    <li>
                        <i class="fa-solid fa-envelope me-2" style="color: #1e1e1e;"></i>
                        <a href="mailto:support@mobi-comm.com" style="color: #1e1e1e; text-decoration: none; transition: color 0.3s ease;" onmouseover="this.style.color='#ffc600';" onmouseout="this.style.color='#1e1e1e';">support@mobi-comm.com</a>
                    </li>
                </ul>
                <hr class="mobile-divider d-md-none" style="border-top: 1px solid rgba(0, 0, 0, 0.1); margin: 1.5rem 0;">
            </div>

            <!-- Social Media -->
            <div class="col-md-2">
                <h5 class="fw-bold mb-3" style="color: #1e1e1e;">Connect with Us</h5>
                <p class="mb-3" style="color: #1e1e1e; font-size: 1rem;">Stay updated with exclusive offers and news!</p>
                <div class="d-flex justify-content-center justify-content-md-start gap-2">
                    <a href="#" class="btn rounded-circle shadow-sm" style="background-color: #fff7d1; color: #1e1e1e; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease;" onmouseover="this.style.backgroundColor='#ffc600';" onmouseout="this.style.backgroundColor='#fff7d1';">
                        <i class="fa-brands fa-x-twitter"></i>
                    </a>
                    <a href="#" class="btn rounded-circle shadow-sm" style="background-color: #fff7d1; color: #1e1e1e; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease;" onmouseover="this.style.backgroundColor='#ffc600';" onmouseout="this.style.backgroundColor='#fff7d1';">
                        <i class="fa-brands fa-instagram"></i>
                    </a>
                    <a href="#" class="btn rounded-circle shadow-sm" style="background-color: #fff7d1; color: #1e1e1e; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease;" onmouseover="this.style.backgroundColor='#ffc600';" onmouseout="this.style.backgroundColor='#fff7d1';">
                        <i class="fa-brands fa-facebook"></i>
                    </a>
                </div>
                <hr class="mobile-divider d-md-none" style="border-top: 1px solid rgba(0, 0, 0, 0.1); margin: 1.5rem 0;">
            </div>
        </div>

        <!-- Copyright -->
        <div class="text-center border-top pt-3 mt-4" style="border-color: rgba(0, 0, 0, 0.1);">
            <p class="mb-0" style="color: #1e1e1e; font-size: 0.9rem;">
                © 2025 Mobi-Comm, Inc. All rights reserved. | 
                <a href="/privacy" style="color: #1e1e1e; text-decoration: none; transition: color 0.3s ease;" onmouseover="this.style.color='#ffc600';" onmouseout="this.style.color='#1e1e1e';">Privacy Policy</a> | 
                <a href="/terms" style="color: #1e1e1e; text-decoration: none; transition: color 0.3s ease;" onmouseover="this.style.color='#ffc600';" onmouseout="this.style.color='#1e1e1e';">Terms of Service</a>
            </p>
        </div>
    </div>
</footer>
<!-- FOOTER END -->

<script src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="node_modules/@popperjs/core/dist/umd/popper.min.js"></script>
<script src="assets/js/account.js"></script>

<script>
document.addEventListener("DOMContentLoaded", function () {
    const loginForm = document.getElementById("loginForm");
    const emailInput = document.getElementById("email");
    const passwordInput = document.getElementById("password");
    const emailError = document.getElementById("emailError");
    const passwordError = document.getElementById("passwordError");

    loginForm.addEventListener("submit", async function (event) {
        event.preventDefault(); // Prevent form submission

        const email = emailInput.value.trim();
        const password = passwordInput.value.trim();

        // Reset previous error messages
        emailError.classList.add("d-none");
        passwordError.classList.add("d-none");

        // Basic validation
        if (!email || !password) {
            emailError.classList.remove("d-none");
            emailError.textContent = "Email and password are required.";
            return;
        }

        try {
            const response = await fetch("http://127.0.0.1:9090/api/users/login", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({ emailId: email, password: password })
            });

            const result = await response.text(); // API returns plain text

            if (response.ok) {
                // ✅ Store user session (optional)
                localStorage.setItem("userEmail", email);

                // ✅ Redirect to User Dashboard
                window.location.href = "UserDashboard.html";
            } else {
                // ❌ Handle different failure cases
                if (response.status === 401) {
                    passwordError.classList.remove("d-none");
                    passwordError.textContent = "Incorrect email or password. Please try again.";
                } else if (response.status === 404) {
                    emailError.classList.remove("d-none");
                    emailError.textContent = "No account found with this email.";
                } else {
                    emailError.classList.remove("d-none");
                    emailError.textContent = "Server error. Please try again later.";
                }
            }
        } catch (error) {
            console.error("Login Error:", error);
            emailError.classList.remove("d-none");
            emailError.textContent = "Something went wrong. Please check your connection.";
        }
    });
});

</script>


</body>
</html>
